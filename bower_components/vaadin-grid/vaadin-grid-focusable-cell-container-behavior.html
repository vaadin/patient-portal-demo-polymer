<html><head><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.FocusableCellContainerBehavior={properties:{focused:{type:Boolean,reflectToAttribute:!0},_focusedRow:Object,_focusedRowIndex:Number,_focusedCell:Object,_focusedCellIndex:Number,_lastFocusedCell:Object},observers:['_announceFocusedCell(_focusedCell, focused)','_dispatchEvents(_focusedCell, focused)','_focusedCellChanged(_focusedRowIndex, _focusedCellIndex)'],_announceFocusedCell:function(b,c){if(this.domHost.navigating&&c){var d=b._cellContent.id;if('vaadin-grid-table-body'===this.is&&!b.hasAttribute('detailscell')){var f=Polymer.dom(b.parentElement).querySelectorAll('td').indexOf(b),g=this.domHost.$.header.lastElementChild,h=g.children[f];d=h._cellContent.id+' '+d}this._getFocusTrap().activeTarget=d}},_dispatchEvents:function(b,c){this._lastFocusedCell&&(this._lastFocusedCell._cellContent.dispatchEvent(new CustomEvent('cell-focusout')),this._lastFocusedCell=void 0),c&&(b._cellContent.dispatchEvent(new CustomEvent('cell-focusin')),this._lastFocusedCell=b)},_focusedCellChanged:function(b,c){Polymer.dom(this).children.forEach(function(d,f){d.focused=f===b,d.focused&&(this._focusedRow=d,this._focusedCellIndex=Math.min(c,d.children.length-1),this._focusedCell=d.children[this._focusedCellIndex]),d.cells.forEach(function(g,h){g.focused=h===this._focusedCellIndex}.bind(this))}.bind(this))},_getFocusTrap:function(){switch(this.is){case'vaadin-grid-table-header':return this.domHost.$.headerFocusTrap;case'vaadin-grid-table-body':return this.domHost.$.bodyFocusTrap;case'vaadin-grid-table-footer':return this.domHost.$.footerFocusTrap;}},focusLeft:function(){if(!this._focusedCell.hasAttribute('detailscell')){var b=this._visibleCellIndexes();if(0<b.length){var c=b.indexOf(this._focusedCellIndex);this._focusedCellIndex=b[Math.max(0,c-1)]}}},focusDown:function(){this._focusedRowIndex=Math.min(this._focusedRowIndex+1,this.children.length-1)},_visibleCellIndexes:function(){var b=[];if(this._focusedRow&&this._focusedRow.children){for(var c=this._focusedRow.children,d=0;d<c.length;d++)c[d].hidden||c[d]===this._focusedRow._rowDetailsCell||b.push(d);b.sort(function(f,g){return c[f].column._order<c[g].column._order?-1:1})}return b},focusPageDown:function(){this._focusedRowIndex=Math.min(this._focusedRowIndex+10,this.children.length-1)},focusPageUp:function(){this._focusedRowIndex=Math.max(0,this._focusedRowIndex-10)},focusRight:function(){if(!this._focusedCell.hasAttribute('detailscell')){var b=this._visibleCellIndexes();if(0<b.length){var c=b.indexOf(this._focusedCellIndex);this._focusedCellIndex=b[Math.min(c+1,b.length-1)]}}},focusUp:function(){this._focusedRowIndex=Math.max(0,this._focusedRowIndex-1)},focusHome:function(){if(!this._focusedCell.hasAttribute('detailscell')){var b=this._visibleCellIndexes();0<b.length&&(this._focusedCellIndex=b[0])}},focusEnd:function(){if(!this._focusedCell.hasAttribute('detailscell')){var b=this._visibleCellIndexes();0<b.length&&(this._focusedCellIndex=b[b.length-1])}},focusFirst:function(){this._focusedRowIndex=0,this.focusHome()},focusLast:function(){this._focusedRowIndex=this.children.length-1,this.focusEnd()}};</script></head><body></body></html>