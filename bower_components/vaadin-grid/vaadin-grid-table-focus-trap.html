<html><head><link rel="import" href="../polymer/polymer.html"></head><body><dom-module id="vaadin-grid-table-focus-trap"><template><style>:host{position:absolute;z-index:-3;}:host(:focus),
     .primary:focus,
     ::content .primary:focus,
     .secondary:focus,
     ::content .secondary:focus{outline:none;}</style><div class="primary" tabindex="0" role="gridcell" on-focus="_onBaitFocus" on-blur="_onBaitBlur"><div aria-hidden="true">&nbsp;</div></div><div class="secondary" tabindex="-1" role="gridcell" on-focus="_onBaitFocus" on-blur="_onBaitBlur"><div aria-hidden="true">&nbsp;</div></div><slot></slot></template><script>Polymer({is:'vaadin-grid-table-focus-trap',hostAttributes:{tabindex:-1,role:'gridcell'},listeners:{focus:'_onFocus',focusin:'_stopPropagationForReannouncing',focusout:'_stopPropagationForReannouncing'},properties:{activeTarget:{type:String,observer:'_activeTargetChanged'}},ready:function(){this._primary=Polymer.dom(this.root).querySelector('.primary'),this._secondary=Polymer.dom(this.root).querySelector('.secondary'),Polymer.Settings.useNativeShadow&&(Polymer.dom(this).appendChild(this._primary),Polymer.dom(this).appendChild(this._secondary))},_onFocus:function(){this._primary.focus()},_onBaitFocus:function(b){this.fire('focusin'),this._focused=b.target},_onBaitBlur:function(){this.fire('focusout')},_activeTargetChanged:function(b){this._focused===this._primary?(this._secondary.setAttribute('aria-labelledby',b),this._secondary.focus()):(this._primary.setAttribute('aria-labelledby',b),this._primary.focus())},_reannounce:function(){this._isReannouncing=!0,this._focused===this._primary?(this._secondary.setAttribute('aria-labelledby',this.activeTarget),this._secondary.focus()):(this._primary.setAttribute('aria-labelledby',this.activeTarget),this._primary.focus()),this._isReannouncing=!1},_stopPropagationForReannouncing:function(b){this._isReannouncing&&(b.stopImmediatePropagation(),b.stopPropagation())}});</script></dom-module></body></html>