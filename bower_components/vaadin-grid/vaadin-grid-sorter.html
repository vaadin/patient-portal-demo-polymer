<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="vaadin-grid-cell-click-behavior.html"><style>@font-face{font-family:'vaadin-grid-sorter-icons';src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAA0AAAAABuwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEFAAAABkAAAAcfep+mUdERUYAAAP4AAAAHAAAAB4AJwAOT1MvMgAAAZgAAAA/AAAAYA8TBPpjbWFwAAAB7AAAAFUAAAFeF1fZ4mdhc3AAAAPwAAAACAAAAAgAAAAQZ2x5ZgAAAlgAAABcAAAAnMvguMloZWFkAAABMAAAAC8AAAA2C5Ap72hoZWEAAAFgAAAAHQAAACQGbQPHaG10eAAAAdgAAAAUAAAAHAoAAABsb2NhAAACRAAAABIAAAASAIwAYG1heHAAAAGAAAAAFgAAACAACwAKbmFtZQAAArQAAAECAAACZxWCgKhwb3N0AAADuAAAADUAAABZCrApUXicY2BkYGAA4rDECVrx/DZfGbhZGEDgyqNPOxH0/wNMq5kPALkcDEwgUQBWRA0dAHicY2BkYGA+8P8AAwMLAwgwrWZgZEAFbABY4QM8AAAAeJxjYGRgYOAAQiYGEICQSAAAAi8AFgAAeJxjYGY6yziBgZWBgWkm0xkGBoZ+CM34msGYkZMBFTAKoAkwODAwvmRiPvD/AIMDMxCD1CDJKjAwAgBktQsXAHicY2GAAMZQCM0EwqshbAALxAEKeJxjYGBgZoBgGQZGBhCIAPIYwXwWBhsgzcXAwcAEhIwMCi+Z/v/9/x+sSuElA4T9/4k4K1gHFwMMMILMY2QDYmaoABOQYGJABUA7WBiGNwAAJd4NIQAAAAAAAAAACAAIABAAGAAmAEAATgAAeJyNjLENgDAMBP9tIURJwQCMQccSZgk2i5fIYBDAidJjycXr7x5EPwE2wY8si7jmyBNXGo/bNBerxJNrpxhbO3/fEFpx8ZICpV+ghxJ74fAMe+h7Ox14AbrsHB14nK2QQWrDMBRER4mTkhQK3ZRQKOgCNk7oGQqhhEIX2WSlWEI1BAlkJ5CDdNsj5Ey9Rncdi38ES+jzNJo/HwTgATcoDEthhY3wBHc4CE+pfwsX5F/hGe7Vo/AcK/UhvMSz+mGXKhZU6pww8ISz3oWn1BvhgnwTnuEJf8Jz1OpFeIlX9YULDLdFi4ASHolkSR0iuYdjLak1vAequBhj21D61Nqyi6l3qWybGPjySbPHGScGJl6dP58MYcQRI0bts7mjebBqrFENH7t3qWtj0OuqHnXcW7b0HOTZFnKryRGW2hFX1m0O2vEM3opNMfTau+CS6Z3Vx6veNnEXY6jwDxhsc2gAAHicY2BiwA84GBgYmRiYGJkZmBlZGFkZ2djScyoLMgzZS/MyDQwMwLSrpYEBlIbxjQDrzgsuAAAAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQnYgZgHzGAAD6wA2eJxjYGBgZACCKyoz1cD0o087YTQATOcIewAAAA==) format('woff');font-weight:normal;font-style:normal;}</style></head><body><dom-module id="vaadin-grid-sorter"><template><style>:host{position:relative;display:inline-flex;justify-content:space-between;align-items:center;cursor:pointer;}#indicators{position:relative;}#order{position:absolute;right:0;top:0;transform:translateY(-6px) scale(0.7);@apply (--vaadin-grid-sorter-order);}#indicators::before{font-family:'vaadin-grid-sorter-icons';display:block;padding:0 10px;@apply (--vaadin-grid-sorter-arrow);}:host(:not([direction])) #indicators::before{content:"\e901";opacity:0.2;}:host([direction=asc]) #indicators::before{content:"\e900";}:host([direction=desc]) #indicators::before{content:"\e902";}#announcer{position:absolute;z-index:-1;clip:rect(0, 0, 0, 0);text-transform:none;}#content{display:inline-block;overflow:hidden;text-overflow:ellipsis;flex:1;}</style><div id="content" on-focus="_onContentFocus"><content></content></div><div id="announcer" aria-hidden="true"><div>[[_getAriaLabel(direction, _order)]]</div></div><div id="indicators" aria-hidden="true"><div id="order">[[_getDisplayOrder(_order)]]</div></div></template><script>Polymer({is:'vaadin-grid-sorter',properties:{path:String,direction:{type:String,reflectToAttribute:!0,notify:!0,value:null},_order:{type:Number,value:null},_cellHasFocus:{type:Boolean,value:!1},_boundOnCellContentFocusin:{type:Function,value:function(){return this._onCellContentFocusin.bind(this)}},_boundOnCellContentFocusout:{type:Function,value:function(){return this._onCellContentFocusout.bind(this)}}},observers:['_propertiesChanged(path, direction, isAttached)','_directionOrOrderChanged(direction, _order)','_cellHasFocusChanged(_cellHasFocus)'],behaviors:[vaadin.elements.grid.CellClickBehavior],attached:function(){this._cellContent=this._getClosestCellContent(),this._cellContent&&(this._cellContent.addEventListener('cell-focusin',this._boundOnCellContentFocusin),this._cellContent.addEventListener('cell-focusout',this._boundOnCellContentFocusout))},detached:function(){this._cellContent&&(this._cellContent.removeEventListener('cell-focusin',this._boundOnCellContentFocusin),this._cellContent.removeEventListener('cell-focusout',this._boundOnCellContentFocusout),this._cellContent=void 0)},_onContentFocus:function(){for(var c=this;'vaadin-grid'!==c.localName;)c=Polymer.dom(c).parentNode;var d=c.$.scroller._getCellByCellContent(this);'vaadin-grid-table-footer-cell'===d.is?c.$.scroller.$.footerFocusTrap.focus():c.$.scroller.$.headerFocusTrap.focus()},_getClosestCellContent:function(){for(var b=this;b=Polymer.dom(b).parentNode;){if('vaadin-grid'===b.is||b===document.body)return null;if('vaadin-grid-cell-content'===b.localName)return b}},_onCellContentFocusin:function(){this._cellHasFocus=!0},_onCellContentFocusout:function(){this._cellHasFocus=!1},_propertiesChanged:function(b,c,d){d&&this.fire('sorter-changed')},_getDisplayOrder:function(b){return null===b?'':b+1},_cellClick:function(b){b.preventDefault(),this.direction='asc'===this.direction?'desc':'desc'===this.direction?null:'asc'},_getAriaLabel:function(b,c){if(b){var d='Sorted ';return d+='asc'===b?'ascending':'descending',d+=null===c?'. ':', Order '+(c+1)+'.',d}return'Unsorted.'},_directionOrOrderChanged:function(b,c){this.debounce('direction-announce',function(){this.fire('iron-announce',{text:this._getAriaLabel(b,c)})},1)},_cellHasFocusChanged:function(b){b?this.$.announcer.setAttribute('aria-hidden','false'):this.async(function(){this.$.announcer.setAttribute('aria-hidden','true')},1)}});</script></dom-module></body></html>