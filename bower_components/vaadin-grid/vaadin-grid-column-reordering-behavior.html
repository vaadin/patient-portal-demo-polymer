<html><head></head><body><dom-module id="vaadin-grid-column-reordering-themability-styles"><template><style>:host([reordering]) .vaadin-grid-cell{background:#000;}:host([reordering]) .vaadin-grid-cell[reorder-status="dragging"]{background:var(--primary-color, #000);}:host([reordering]) .vaadin-grid-cell:not([detailscell]) ::content > vaadin-grid-cell-content{transition:opacity 300ms;transform:translateZ(0);opacity:0.8;}:host([reordering]) .vaadin-grid-cell[reorder-status="allowed"] ::content > vaadin-grid-cell-content{opacity:1;}:host([reordering]) .vaadin-grid-cell[reorder-status="dragging"] ::content > vaadin-grid-cell-content{opacity:0.95;}</style></template></dom-module><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.ColumnReorderingBehavior={properties:{columnReorderingAllowed:{type:Boolean,value:!1}}},vaadin.elements.grid.TableColumnReorderingBehavior={properties:{_orderBaseScope:{type:Number,value:1e7}},listeners:{dragstart:'_onDragStart',dragover:'_onDragOver',dragend:'_onDragEnd'},observers:['_updateOrders(columnTree, columnTree.*)'],_updateOrders:function(b){b[0].forEach(function(d,f){d._order=(f+1)*this._orderBaseScope},this)},_onDragStart:function(b){var c=this._getCellByCellContent(b.target);c&&(this.toggleAttribute('reordering',!0),this._draggedColumn=c.column,this._setSiblingsReorderStatus(this._draggedColumn,'allowed'),this._draggedColumn._reorderStatus='dragging',b.dataTransfer&&(b.dataTransfer.setData('text',''),b.dataTransfer.effectAllowed='move'),this._autoScroller())},_setSiblingsReorderStatus:function(b,c){Polymer.dom(Polymer.dom(b).parentNode).children.filter(function(d){return /column/.test(d.localName)&&this._isSwapAllowed(d,b)},this).forEach(function(d){d._reorderStatus=c})},_onDragOver:function(b){b.preventDefault();var c=this._getCellByCellContent(b.target),d=this._getTargetColumn(c,this._draggedColumn);d&&this._isSwapAllowed(this._draggedColumn,d)&&this._isSwappableByPosition(d,b.clientX)&&this._swapColumnOrders(this._draggedColumn,d),this._lastDragClientX=b.clientX},_autoScroller:function(){if(this._lastDragClientX){var b=this._lastDragClientX-this.getBoundingClientRect().right+50,c=this.getBoundingClientRect().left-this._lastDragClientX+50;0<b?this.$.table.scrollLeft+=b/10:0<c&&(this.$.table.scrollLeft-=c/10),this._scrollHandler()}this._draggedColumn&&this.async(this._autoScroller,10)},_onDragEnd:function(){this.toggleAttribute('reordering',!1),this._draggedColumn._reorderStatus='',this._setSiblingsReorderStatus(this._draggedColumn,''),this._draggedColumn=null,this._lastDragClientX=null},_isSwapAllowed:function(b,c){if(b&&c){var f=b.parentElement===c.parentElement,g=b.frozen===c.frozen;return b!==c&&f&&g}},_isSwappableByPosition:function(b,c){var d=Polymer.dom(this.$.header).querySelectorAll('th').filter(function(g){return g.column===b})[0],f=this.$.header.querySelector('[reorder-status=dragging]').getBoundingClientRect();return d.getBoundingClientRect().left>f.left?c>d.getBoundingClientRect().right-f.width:c<d.getBoundingClientRect().left+f.width},_getCellByCellContent:function(b){if(b){for(var c=null;null===c&&b!==this.target&&b;)'vaadin-grid-cell-content'===b.localName&&(c=b.id),b=b.parentElement;if(null!==c){var d=Polymer.dom(this.$.table).querySelector('content[select="#'+c+'"]');return Polymer.dom(d).parentNode}}},_swapColumnOrders:function(b,c){var d=b._order;b._order=c._order,c._order=d,this._updateLastFrozen(),this._updateLastColumn()},_getTargetColumn:function(b,c){if(b&&c){for(var d=b.column;d.parentElement!==c.parentElement&&d!==this.target;)d=d.parentElement;return d.parentElement===c.parentElement?d:b.column}}};</script></body></html>