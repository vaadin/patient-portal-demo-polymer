var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};(function(P){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=P:P(Highcharts)})(function(P){function Q(ja){return void 0!==ja&&null!==ja}function R(ja){var la,ma,ka=0;for(la=0;la<ja.length;la++)ma=(la+1)%ja.length,ka+=ja[la].x*ja[ma].y-ja[ma].x*ja[la].y;return ka/2}function S(ja){var la,ka=0;for(la=0;la<ja.length;la++)ka+=ja[la].z;return ja.length?ka/ja.length:0}function T(ja,ka,la,ma,na,oa,pa,qa){var ra=[];return oa>na&&oa-na>ba/2+1e-4?(ra=ra.concat(T(ja,ka,la,ma,na,na+ba/2,pa,qa)),ra=ra.concat(T(ja,ka,la,ma,na+ba/2,oa,pa,qa))):oa<na&&na-oa>ba/2+1e-4?(ra=ra.concat(T(ja,ka,la,ma,na,na-ba/2,pa,qa)),ra=ra.concat(T(ja,ka,la,ma,na-ba/2,oa,pa,qa))):(ra=oa-na,ra=["C",ja+la*ea(na)-la*ha*ra*da(na)+pa,ka+ma*da(na)+ma*ha*ra*ea(na)+qa,ja+la*ea(oa)+la*ha*ra*da(oa)+pa,ka+ma*da(oa)-ma*ha*ra*ea(oa)+qa,ja+la*ea(oa)+pa,ka+ma*da(oa)+qa]),ra}function U(ja,ka){var va,la=ja.plotLeft,ma=ja.plotWidth+la,na=ja.plotTop,oa=ja.plotHeight+na,pa=la+ja.plotWidth/2,qa=na+ja.plotHeight/2,ra=Number.MAX_VALUE,sa=-Number.MAX_VALUE,ta=Number.MAX_VALUE,ua=-Number.MAX_VALUE,wa=1;return va=[{x:la,y:na,z:0},{x:la,y:na,z:ka}],X([0,1],function(xa){va.push({x:ma,y:va[xa].y,z:va[xa].z})}),X([0,1,2,3],function(xa){va.push({x:va[xa].x,y:oa,z:va[xa].z})}),va=ga(va,ja,!1),X(va,function(xa){ra=Math.min(ra,xa.x),sa=Math.max(sa,xa.x),ta=Math.min(ta,xa.y),ua=Math.max(ua,xa.y)}),la>ra&&(wa=Math.min(wa,1-Math.abs((la+pa)/(ra+pa))%1)),ma<sa&&(wa=Math.min(wa,(ma-pa)/(sa-pa))),na>ta&&(wa=0>ta?Math.min(wa,(na+qa)/(-ta+na+qa)):Math.min(wa,1-(na+qa)/(ta+qa)%1)),oa<ua&&(wa=Math.min(wa,Math.abs((oa-qa)/(ua-qa)))),wa}function V(ja){if(this.chart.is3d()){var ka=this.chart.options.plotOptions.column.grouping;void 0===ka||ka||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0);var la=this.options,ma=this.options.states;this.borderWidth=la.borderWidth=Q(la.edgeWidth)?la.edgeWidth:1,P.each(this.data,function(na){null!==na.y&&(na=na.pointAttr,this.borderColor=P.pick(la.edgeColor,na[""].fill),na[""].stroke=this.borderColor,na.hover.stroke=P.pick(ma.hover.edgeColor,this.borderColor),na.select.stroke=P.pick(ma.select.edgeColor,this.borderColor))})}ja.apply(this,[].slice.call(arguments,1))}var W=P.animObject,X=P.each,Y=P.extend,Z=P.inArray,$=P.merge,_=P.pick,aa=P.wrap,ba=Math.PI,ca=ba/180,da=Math.sin,ea=Math.cos,fa=Math.round,ga=P.perspective=function(ja,ka,la){var ma=ka.options.chart.options3d,na=!!la&&ka.inverted,oa=ka.plotWidth/2,pa=ka.plotHeight/2,qa=ma.depth/2,ra=_(ma.depth,1)*_(ma.viewDistance,0),sa=ka.scale3d||1,ta=ca*ma.beta*(na?-1:1),ma=ca*ma.alpha*(na?-1:1),ua=ea(ma),va=ea(-ta),wa=da(ma),xa=da(-ta);return la||(oa+=ka.plotLeft,pa+=ka.plotTop),P.map(ja,function(ya){var za=-wa*xa*((na?ya.y:ya.x)-oa)+ua*((na?ya.x:ya.y)-pa)-va*wa*((ya.z||0)-qa);var Aa=ua*xa*((na?ya.y:ya.x)-oa)+wa*((na?ya.x:ya.y)-pa)+ua*va*((ya.z||0)-qa),Ba=0<ra&&ra<Number.POSITIVE_INFINITY?ra/(Aa+qa+ra):1;return ya=(va*((na?ya.y:ya.x)-oa)-xa*((ya.z||0)-qa))*Ba,za*=Ba,ya=ya*sa+oa,za=za*sa+pa,{x:na?za:ya,y:na?ya:za,z:Aa*sa+qa}})},ha=4*(Math.sqrt(2)-1)/3/(ba/2);P.SVGRenderer.prototype.toLinePath=function(ja,ka){var la=[];return P.each(ja,function(ma){la.push("L",ma.x,ma.y)}),ja.length&&(la[0]="M",ka&&la.push("Z")),la},P.SVGRenderer.prototype.cuboid=function(ja){var ka=this.g(),ja=this.cuboidPath(ja);return ka.front=this.path(ja[0]).attr({zIndex:ja[3],"stroke-linejoin":"round"}).add(ka),ka.top=this.path(ja[1]).attr({zIndex:ja[4],"stroke-linejoin":"round"}).add(ka),ka.side=this.path(ja[2]).attr({zIndex:ja[5],"stroke-linejoin":"round"}).add(ka),ka.fillSetter=function(la){var ma=P.Color(la).brighten(0.1).get(),na=P.Color(la).brighten(-0.1).get();return this.front.attr({fill:la}),this.top.attr({fill:ma}),this.side.attr({fill:na}),this.color=la,this},ka.opacitySetter=function(la){return this.front.attr({opacity:la}),this.top.attr({opacity:la}),this.side.attr({opacity:la}),this},ka.attr=function(la){if(la.shapeArgs||Q(la.x))la=this.renderer.cuboidPath(la.shapeArgs||la),this.front.attr({d:la[0],zIndex:la[3]}),this.top.attr({d:la[1],zIndex:la[4]}),this.side.attr({d:la[2],zIndex:la[5]});else return P.SVGElement.prototype.attr.call(this,la);return this},ka.animate=function(la,ma,na){return Q(la.x)&&Q(la.y)?(la=this.renderer.cuboidPath(la),this.front.attr({zIndex:la[3]}).animate({d:la[0]},ma,na),this.top.attr({zIndex:la[4]}).animate({d:la[1]},ma,na),this.side.attr({zIndex:la[5]}).animate({d:la[2]},ma,na),this.attr({zIndex:-la[6]})):la.opacity?(this.front.animate(la,ma,na),this.top.animate(la,ma,na),this.side.animate(la,ma,na)):P.SVGElement.prototype.animate.call(this,la,ma,na),this},ka.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),null},ka.attr({zIndex:-ja[6]}),ka},P.SVGRenderer.prototype.cuboidPath=function(ja){function ka(ta){return sa[ta]}var la=ja.x,ma=ja.y,na=ja.z,oa=ja.height,pa=ja.width,qa=ja.depth,ra=P.map,sa=[{x:la,y:ma,z:na},{x:la+pa,y:ma,z:na},{x:la+pa,y:ma+oa,z:na},{x:la,y:ma+oa,z:na},{x:la,y:ma+oa,z:na+qa},{x:la+pa,y:ma+oa,z:na+qa},{x:la+pa,y:ma,z:na+qa},{x:la,y:ma,z:na+qa}],sa=ga(sa,P.charts[this.chartIndex],ja.insidePlotArea),na=function(ua,va){var wa=[],ua=ra(ua,ka),va=ra(va,ka);return 0>R(ua)?wa=ua:0>R(va)&&(wa=va),wa},ja=na([3,2,1,0],[7,6,5,4]),la=[4,5,2,3],ma=na([1,6,7,0],la),na=na([1,2,5,6],[0,7,4,3]);return[this.toLinePath(ja,!0),this.toLinePath(ma,!0),this.toLinePath(na,!0),S(ja),S(ma),S(na),9E9*S(ra(la,ka))]},P.SVGRenderer.prototype.arc3d=function(ja){function ka(oa){var ra,pa=!1,qa={};for(ra in oa)-1!==Z(ra,na)&&(qa[ra]=oa[ra],delete oa[ra],pa=!0);return!!pa&&qa}var la=this.g(),ma=la.renderer,na="x,y,r,innerR,start,end".split(","),ja=$(ja);return ja.alpha*=ca,ja.beta*=ca,la.top=ma.path(),la.side1=ma.path(),la.side2=ma.path(),la.inn=ma.path(),la.out=ma.path(),la.onAdd=function(){var oa=la.parentGroup;la.top.add(la),la.out.add(oa),la.inn.add(oa),la.side1.add(oa),la.side2.add(oa)},la.setPaths=function(oa){var pa=la.renderer.arc3dPath(oa),qa=100*pa.zTop;la.attribs=oa,la.top.attr({d:pa.top,zIndex:pa.zTop}),la.inn.attr({d:pa.inn,zIndex:pa.zInn}),la.out.attr({d:pa.out,zIndex:pa.zOut}),la.side1.attr({d:pa.side1,zIndex:pa.zSide1}),la.side2.attr({d:pa.side2,zIndex:pa.zSide2}),la.zIndex=qa,la.attr({zIndex:qa}),oa.center&&(la.top.setRadialReference(oa.center),delete oa.center)},la.setPaths(ja),la.fillSetter=function(oa){var pa=P.Color(oa).brighten(-0.1).get();return this.fill=oa,this.side1.attr({fill:pa}),this.side2.attr({fill:pa}),this.inn.attr({fill:pa}),this.out.attr({fill:pa}),this.top.attr({fill:oa}),this},X(["opacity","translateX","translateY","visibility"],function(oa){la[oa+"Setter"]=function(pa,qa){la[qa]=pa,X(["out","inn","side1","side2","top"],function(ra){la[ra].attr(qa,pa)})}}),aa(la,"attr",function(oa,pa,qa){var ra;return"object"===("undefined"==typeof pa?"undefined":_typeof(pa))&&(ra=ka(pa))&&(Y(la.attribs,ra),la.setPaths(la.attribs)),oa.call(this,pa,qa)}),aa(la,"animate",function(oa,pa,qa,ra){var sa,ua,va,ta=this.attribs;return delete pa.center,delete pa.z,delete pa.depth,delete pa.alpha,delete pa.beta,va=W(_(qa,this.renderer.globalAnimation)),va.duration&&(pa=$(pa),sa=ka(pa))&&(ua=sa,va.step=function(wa,xa){function ya(za){return ta[za]+(_(ua[za],ta[za])-ta[za])*xa.pos}xa.elem.setPaths($(ta,{x:ya("x"),y:ya("y"),r:ya("r"),innerR:ya("innerR"),start:ya("start"),end:ya("end")}))}),oa.call(this,pa,qa,ra)}),la.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),P.SVGElement.prototype.destroy.call(this)},la.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},la.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},la},P.SVGRenderer.prototype.arc3dPath=function(ja){function ka(Ea){return Ea%=2*ba,Ea>ba&&(Ea=2*ba-Ea),Ea}var la=ja.x,ma=ja.y,na=ja.start,oa=ja.end-1e-5,pa=ja.r,qa=ja.innerR,ra=ja.depth,sa=ja.alpha,ta=ja.beta,ua=ea(na),va=da(na),ja=ea(oa),wa=da(oa),xa=pa*ea(ta);pa*=ea(sa);var ya=qa*ea(ta),za=qa*ea(sa),qa=ra*da(ta),Aa=ra*da(sa),ra=["M",la+xa*ua,ma+pa*va],ra=ra.concat(T(la,ma,xa,pa,na,oa,0,0)),ra=ra.concat(["L",la+ya*ja,ma+za*wa]),ra=ra.concat(T(la,ma,ya,za,oa,na,0,0)),ra=ra.concat(["Z"]),Ba=0<ta?ba/2:0,ta=0<sa?0:ba/2,Ba=na>-Ba?na:oa>-Ba?-Ba:na,Ca=oa<ba-ta?oa:na<ba-ta?ba-ta:oa,Da=2*ba-ta,sa=["M",la+xa*ea(Ba),ma+pa*da(Ba)],sa=sa.concat(T(la,ma,xa,pa,Ba,Ca,0,0));return oa>Da&&na<Da?(sa=sa.concat(["L",la+xa*ea(Ca)+qa,ma+pa*da(Ca)+Aa]),sa=sa.concat(T(la,ma,xa,pa,Ca,Da,qa,Aa)),sa=sa.concat(["L",la+xa*ea(Da),ma+pa*da(Da)]),sa=sa.concat(T(la,ma,xa,pa,Da,oa,0,0)),sa=sa.concat(["L",la+xa*ea(oa)+qa,ma+pa*da(oa)+Aa]),sa=sa.concat(T(la,ma,xa,pa,oa,Da,qa,Aa)),sa=sa.concat(["L",la+xa*ea(Da),ma+pa*da(Da)]),sa=sa.concat(T(la,ma,xa,pa,Da,Ca,0,0))):oa>ba-ta&&na<ba-ta&&(sa=sa.concat(["L",la+xa*ea(Ca)+qa,ma+pa*da(Ca)+Aa]),sa=sa.concat(T(la,ma,xa,pa,Ca,oa,qa,Aa)),sa=sa.concat(["L",la+xa*ea(oa),ma+pa*da(oa)]),sa=sa.concat(T(la,ma,xa,pa,oa,Ca,0,0))),sa=sa.concat(["L",la+xa*ea(Ca)+qa,ma+pa*da(Ca)+Aa]),sa=sa.concat(T(la,ma,xa,pa,Ca,Ba,qa,Aa)),sa=sa.concat(["Z"]),ta=["M",la+ya*ua,ma+za*va],ta=ta.concat(T(la,ma,ya,za,na,oa,0,0)),ta=ta.concat(["L",la+ya*ea(oa)+qa,ma+za*da(oa)+Aa]),ta=ta.concat(T(la,ma,ya,za,oa,na,qa,Aa)),ta=ta.concat(["Z"]),ua=["M",la+xa*ua,ma+pa*va,"L",la+xa*ua+qa,ma+pa*va+Aa,"L",la+ya*ua+qa,ma+za*va+Aa,"L",la+ya*ua,ma+za*va,"Z"],la=["M",la+xa*ja,ma+pa*wa,"L",la+xa*ja+qa,ma+pa*wa+Aa,"L",la+ya*ja+qa,ma+za*wa+Aa,"L",la+ya*ja,ma+za*wa,"Z"],wa=Math.atan2(Aa,-qa),ma=Math.abs(oa+wa),ja=Math.abs(na+wa),na=Math.abs((na+oa)/2+wa),ma=ka(ma),ja=ka(ja),na=ka(na),na*=1E5,oa=1E5*ja,ma*=1E5,{top:ra,zTop:1E5*ba+1,out:sa,zOut:Math.max(na,oa,ma),inn:ta,zInn:Math.max(na,oa,ma),side1:ua,zSide1:0.99*ma,side2:la,zSide2:0.99*oa}},P.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},P.wrap(P.Chart.prototype,"isInsidePlot",function(ja){return this.is3d()||ja.apply(this,[].slice.call(arguments,1))}),P.getOptions().chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}},P.wrap(P.Chart.prototype,"init",function(ja){var la,ka=[].slice.call(arguments,1);ka[0].chart&&ka[0].chart.options3d&&ka[0].chart.options3d.enabled&&(ka[0].chart.options3d.alpha=(ka[0].chart.options3d.alpha||0)%360,ka[0].chart.options3d.beta=(ka[0].chart.options3d.beta||0)%360,la=ka[0].plotOptions||{},la=la.pie||{},la.borderColor=P.pick(la.borderColor,void 0)),ja.apply(this,ka)}),P.wrap(P.Chart.prototype,"setChartSize",function(ja){var ka=this.options.chart.options3d;if(ja.apply(this,[].slice.call(arguments,1)),this.is3d()){var la=this.inverted,ma=this.clipBox,na=this.margin;ma[la?"y":"x"]=-(na[3]||0),ma[la?"x":"y"]=-(na[0]||0),ma[la?"height":"width"]=this.chartWidth+(na[3]||0)+(na[1]||0),ma[la?"width":"height"]=this.chartHeight+(na[0]||0)+(na[2]||0),this.scale3d=1,!0===ka.fitToPlot&&(this.scale3d=U(this,ka.depth))}}),P.wrap(P.Chart.prototype,"redraw",function(ja){this.is3d()&&(this.isDirtyBox=!0),ja.apply(this,[].slice.call(arguments,1))}),P.wrap(P.Chart.prototype,"renderSeries",function(ja){var ka=this.series.length;if(this.is3d())for(;ka--;)ja=this.series[ka],ja.translate(),ja.render();else ja.call(this)}),P.Chart.prototype.retrieveStacks=function(ja){var ma,ka=this.series,la={},na=1;return P.each(this.series,function(oa){ma=_(oa.options.stack,ja?0:ka.length-1-oa.index),la[ma]?la[ma].series.push(oa):(la[ma]={series:[oa],position:na},na++)}),la.totalStacks=na+1,la},P.wrap(P.Axis.prototype,"setOptions",function(ja,ka){var la;ja.call(this,ka),this.chart.is3d()&&(la=this.options,la.tickWidth=P.pick(la.tickWidth,0),la.gridLineWidth=P.pick(la.gridLineWidth,1))}),P.wrap(P.Axis.prototype,"render",function(ja){if(ja.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var ka=this.chart,la=ka.renderer,ma=ka.options.chart.options3d,na=ma.frame,oa=na.bottom,pa=na.back,na=na.side,qa=ma.depth,ra=this.height,sa=this.width,ta=this.left,ua=this.top;this.isZAxis||(this.horiz?(pa={x:ta,y:ua+(ka.xAxis[0].opposite?-oa.size:ra),z:0,width:sa,height:oa.size,depth:qa,insidePlotArea:!1},this.bottomFrame?this.bottomFrame.animate(pa):this.bottomFrame=la.cuboid(pa).attr({fill:oa.color,zIndex:ka.yAxis[0].reversed&&0<ma.alpha?4:-1}).css({stroke:oa.color}).add()):(ma={x:ta+(ka.yAxis[0].opposite?0:-na.size),y:ua+(ka.xAxis[0].opposite?-oa.size:0),z:qa,width:sa+na.size,height:ra+oa.size,depth:pa.size,insidePlotArea:!1},this.backFrame?this.backFrame.animate(ma):this.backFrame=la.cuboid(ma).attr({fill:pa.color,zIndex:-3}).css({stroke:pa.color}).add(),ka={x:ta+(ka.yAxis[0].opposite?sa:-na.size),y:ua+(ka.xAxis[0].opposite?-oa.size:0),z:0,width:na.size,height:ra+oa.size,depth:qa,insidePlotArea:!1},this.sideFrame?this.sideFrame.animate(ka):this.sideFrame=la.cuboid(ka).attr({fill:na.color,zIndex:-2}).css({stroke:na.color}).add()))}}),P.wrap(P.Axis.prototype,"getPlotLinePath",function(ja){var ka=ja.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return ka;if(null===ka)return ka;var la=this.chart,ma=la.options.chart.options3d,la=this.isZAxis?la.plotWidth:ma.depth,ma=this.opposite;return this.horiz&&(ma=!ma),ka=[this.swapZ({x:ka[1],y:ka[2],z:ma?la:0}),this.swapZ({x:ka[1],y:ka[2],z:la}),this.swapZ({x:ka[4],y:ka[5],z:la}),this.swapZ({x:ka[4],y:ka[5],z:ma?0:la})],ka=ga(ka,this.chart,!1),ka=this.chart.renderer.toLinePath(ka,!1)}),P.wrap(P.Axis.prototype,"getLinePath",function(ja){return this.chart.is3d()?[]:ja.apply(this,[].slice.call(arguments,1))}),P.wrap(P.Axis.prototype,"getPlotBandPath",function(ja){if(!this.chart.is3d())return ja.apply(this,[].slice.call(arguments,1));var ka=arguments,la=ka[1],ka=this.getPlotLinePath(ka[2]);return(la=this.getPlotLinePath(la))&&ka?la.push("L",ka[10],ka[11],"L",ka[7],ka[8],"L",ka[4],ka[5],"L",ka[1],ka[2]):la=null,la}),P.wrap(P.Tick.prototype,"getMarkPath",function(ja){var ka=ja.apply(this,[].slice.call(arguments,1));return this.axis.chart.is3d()?(ka=[this.axis.swapZ({x:ka[1],y:ka[2],z:0}),this.axis.swapZ({x:ka[4],y:ka[5],z:0})],ka=ga(ka,this.axis.chart,!1),ka=["M",ka[0].x,ka[0].y,"L",ka[1].x,ka[1].y]):ka}),P.wrap(P.Tick.prototype,"getLabelPosition",function(ja){var ka=ja.apply(this,[].slice.call(arguments,1));return this.axis.chart.is3d()&&(ka=ga([this.axis.swapZ({x:ka.x,y:ka.y,z:0})],this.axis.chart,!1)[0]),ka}),P.wrap(P.Axis.prototype,"getTitlePosition",function(ja){var la,ma,ka=this.chart.is3d();return ka&&(ma=this.axisTitleMargin,this.axisTitleMargin=0),la=ja.apply(this,[].slice.call(arguments,1)),ka&&(la=ga([this.swapZ({x:la.x,y:la.y,z:0})],this.chart,!1)[0],la[this.horiz?"y":"x"]+=(this.horiz?1:-1)*(this.opposite?-1:1)*ma,this.axisTitleMargin=ma),la}),P.wrap(P.Axis.prototype,"drawCrosshair",function(ja){var ka=arguments;this.chart.is3d()&&ka[2]&&(ka[2]={plotX:ka[2].plotXold||ka[2].plotX,plotY:ka[2].plotYold||ka[2].plotY}),ja.apply(this,[].slice.call(ka,1))}),P.Axis.prototype.swapZ=function(ja,ka){if(this.isZAxis){var la=ka?0:this.chart.plotLeft,ma=this.chart;return{x:la+(ma.yAxis[0].opposite?ja.z:ma.xAxis[0].width-ja.z),y:ja.y,z:ja.x-la}}return ja};var ia=P.ZAxis=function(){this.isZAxis=!0,this.init.apply(this,arguments)};P.extend(ia.prototype,P.Axis.prototype),P.extend(ia.prototype,{setOptions:function(ka){ka=P.merge({offset:0,lineWidth:0},ka),P.Axis.prototype.setOptions.call(this,ka),this.coll="zAxis"},setAxisSize:function(){P.Axis.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var ka=this,la=ka.chart;ka.hasVisibleSeries=!1,ka.dataMin=ka.dataMax=ka.ignoreMinPadding=ka.ignoreMaxPadding=null,ka.buildStacks&&ka.buildStacks(),P.each(ka.series,function(ma){(ma.visible||!la.options.chart.ignoreHiddenSeries)&&(ka.hasVisibleSeries=!0,ma=ma.zData,ma.length)&&(ka.dataMin=Math.min(_(ka.dataMin,ma[0]),Math.min.apply(null,ma)),ka.dataMax=Math.max(_(ka.dataMax,ma[0]),Math.max.apply(null,ma)))})}}),P.wrap(P.Chart.prototype,"getAxes",function(ja){var ka=this,la=this.options,la=la.zAxis=P.splat(la.zAxis||{});ja.call(this),ka.is3d()&&(this.zAxis=[],P.each(la,function(ma,na){ma.index=na,ma.isX=!0,new ia(ka,ma).setScale()}))}),P.wrap(P.seriesTypes.column.prototype,"translate",function(ja){if(ja.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var ka=this.chart,la=this.options,ma=la.depth||25,na=(la.stacking?la.stack||0:this._i)*(ma+(la.groupZPadding||1));!1!==la.grouping&&(na=0),na+=la.groupZPadding||1,P.each(this.data,function(oa){if(null!==oa.y){var pa=oa.shapeArgs,qa=oa.tooltipPos;oa.shapeType="cuboid",pa.z=na,pa.depth=ma,pa.insidePlotArea=!0,qa=ga([{x:qa[0],y:qa[1],z:na}],ka,!0)[0],oa.tooltipPos=[qa.x,qa.y]}}),this.z=na}}),P.wrap(P.seriesTypes.column.prototype,"animate",function(ja){if(this.chart.is3d()){var ka=arguments[1],la=this.yAxis,ma=this,na=this.yAxis.reversed;P.svg&&(ka?P.each(ma.data,function(oa){null!==oa.y&&(oa.height=oa.shapeArgs.height,oa.shapey=oa.shapeArgs.y,oa.shapeArgs.height=1,!na)&&(oa.shapeArgs.y=oa.stackY?oa.plotY+la.translate(oa.stackY):oa.plotY+(oa.negative?-oa.height:oa.height))}):(P.each(ma.data,function(oa){null!==oa.y&&(oa.shapeArgs.height=oa.height,oa.shapeArgs.y=oa.shapey,oa.graphic&&oa.graphic.animate(oa.shapeArgs,ma.options.animation))}),this.drawDataLabels(),ma.animate=null))}else ja.apply(this,[].slice.call(arguments,1))}),P.wrap(P.seriesTypes.column.prototype,"init",function(ja){if(ja.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var ka=this.options,la=ka.grouping,ma=ka.stacking,na=_(this.yAxis.options.reversedStacks,!0),oa=0;if(void 0===la||la){for(la=this.chart.retrieveStacks(ma),oa=ka.stack||0,ma=0;ma<la[oa].series.length&&la[oa].series[ma]!==this;ma++);oa=10*(la.totalStacks-la[oa].position)+(na?ma:-ma),this.xAxis.reversed||(oa=10*la.totalStacks-oa)}ka.zIndex=oa}}),P.wrap(P.Series.prototype,"alignDataLabel",function(ja){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var ka=arguments[4],la={x:ka.x,y:ka.y,z:this.z},la=ga([la],this.chart,!0)[0];ka.x=la.x,ka.y=la.y}ja.apply(this,[].slice.call(arguments,1))}),P.seriesTypes.columnrange&&P.wrap(P.seriesTypes.columnrange.prototype,"drawPoints",V),P.wrap(P.seriesTypes.column.prototype,"drawPoints",V),P.wrap(P.seriesTypes.pie.prototype,"translate",function(ja){if(ja.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var ka=this,la=ka.options,ma=la.depth||0,na=ka.chart.options.chart.options3d,oa=na.alpha,pa=na.beta,qa=la.stacking?(la.stack||0)*ma:ka._i*ma;qa+=ma/2,!1!==la.grouping&&(qa=0),X(ka.data,function(ra){var sa=ra.shapeArgs;ra.shapeType="arc3d",sa.z=qa,sa.depth=0.75*ma,sa.alpha=oa,sa.beta=pa,sa.center=ka.center,sa=(sa.end+sa.start)/2,ra.slicedTranslation={translateX:fa(ea(sa)*la.slicedOffset*ea(oa*ca)),translateY:fa(da(sa)*la.slicedOffset*ea(oa*ca))}})}}),P.wrap(P.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(ja){var ka=arguments;return this.series.chart.is3d()?[]:ja.call(this,ka[1])}),P.wrap(P.seriesTypes.pie.prototype,"drawPoints",function(ja){var ka=this.options,la=ka.states;this.chart.is3d()&&(this.borderWidth=ka.borderWidth=ka.edgeWidth||1,this.borderColor=ka.edgeColor=P.pick(ka.edgeColor,ka.borderColor,void 0),la.hover.borderColor=P.pick(la.hover.edgeColor,this.borderColor),la.hover.borderWidth=P.pick(la.hover.edgeWidth,this.borderWidth),la.select.borderColor=P.pick(la.select.edgeColor,this.borderColor),la.select.borderWidth=P.pick(la.select.edgeWidth,this.borderWidth),X(this.data,function(ma){var na=ma.pointAttr;na[""].stroke=ma.series.borderColor||ma.color,na[""]["stroke-width"]=ma.series.borderWidth,na.hover.stroke=la.hover.borderColor,na.hover["stroke-width"]=la.hover.borderWidth,na.select.stroke=la.select.borderColor,na.select["stroke-width"]=la.select.borderWidth})),ja.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&X(this.points,function(ma){var na=ma.graphic;na&&na[ma.y&&ma.visible?"show":"hide"]()})}),P.wrap(P.seriesTypes.pie.prototype,"drawDataLabels",function(ja){if(this.chart.is3d()){var ka=this.chart.options.chart.options3d;X(this.data,function(la){var ma=la.shapeArgs,na=ma.r,oa=(ma.beta||ka.beta)*ca,pa=(ma.start+ma.end)/2,qa=la.labelPos,ra=-na*(1-ea((ma.alpha||ka.alpha)*ca))*da(pa),sa=na*(ea(oa)-1)*ea(pa);X([0,2,4],function(ta){qa[ta]+=sa,qa[ta+1]+=ra})})}ja.apply(this,[].slice.call(arguments,1))}),P.wrap(P.seriesTypes.pie.prototype,"addPoint",function(ja){ja.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),P.wrap(P.seriesTypes.pie.prototype,"animate",function(ja){if(this.chart.is3d()){var ka=arguments[1],la=this.options.animation,ma=this.center,na=this.group,oa=this.markerGroup;P.svg&&((!0===la&&(la={}),ka)?(na.oldtranslateX=na.translateX,na.oldtranslateY=na.translateY,ka={translateX:ma[0],translateY:ma[1],scaleX:1e-3,scaleY:1e-3},na.attr(ka),oa)&&(oa.attrSetters=na.attrSetters,oa.attr(ka)):(ka={translateX:na.oldtranslateX,translateY:na.oldtranslateY,scaleX:1,scaleY:1},na.animate(ka,la),oa&&oa.animate(ka,la),this.animate=null))}else ja.apply(this,[].slice.call(arguments,1))}),P.wrap(P.seriesTypes.scatter.prototype,"translate",function(ja){if(ja.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var na,oa,pa,ka=this.chart,la=P.pick(this.zAxis,ka.options.zAxis[0]),ma=[];for(pa=0;pa<this.data.length;pa++)na=this.data[pa],oa=la.isLog&&la.val2lin?la.val2lin(na.z):na.z,na.plotZ=la.translate(oa),na.isInside=!!na.isInside&&oa>=la.min&&oa<=la.max,ma.push({x:na.plotX,y:na.plotY,z:na.plotZ});for(ka=ga(ma,ka,!0),pa=0;pa<this.data.length;pa++)na=this.data[pa],la=ka[pa],na.plotXold=na.plotX,na.plotYold=na.plotY,na.plotZold=na.plotZ,na.plotX=la.x,na.plotY=la.y,na.plotZ=la.z}}),P.wrap(P.seriesTypes.scatter.prototype,"init",function(ja,ka,la){return ka.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"],this.directTouch=!0),ja=ja.apply(this,[ka,la]),this.chart.is3d()&&(this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>":"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"),ja}),P.VMLRenderer&&(P.setOptions({animate:!1}),P.VMLRenderer.prototype.cuboid=P.SVGRenderer.prototype.cuboid,P.VMLRenderer.prototype.cuboidPath=P.SVGRenderer.prototype.cuboidPath,P.VMLRenderer.prototype.toLinePath=P.SVGRenderer.prototype.toLinePath,P.VMLRenderer.prototype.createElement3D=P.SVGRenderer.prototype.createElement3D,P.VMLRenderer.prototype.arc3d=function(ja){return ja=P.SVGRenderer.prototype.arc3d.call(this,ja),ja.css({zIndex:ja.zIndex}),ja},P.VMLRenderer.prototype.arc3dPath=P.SVGRenderer.prototype.arc3dPath,P.wrap(P.Axis.prototype,"render",function(ja){ja.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))});